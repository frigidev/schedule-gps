<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      My Coordinates
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-card>
    <ion-card-header>
      <ion-card-title>Coordinates</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-button (click)="requestPermissions()">Request Permissions</ion-button>
      <ion-button (click)="getCurrentPosition()">Get Location</ion-button>
      <ion-button (click)="watchPosition()">Listen GPS</ion-button>
      <ion-button (click)="clearWatch()">Stop GPS</ion-button>
      <ion-item>Permissions: {{permission?.coarseLocation}} | {{permission?.location}}</ion-item>
      <ion-item>Latitude: {{latitude}} </ion-item>
      <ion-item>Longitude: {{longitude}} </ion-item>
    </ion-card-content>
  </ion-card>
  <div class="container">
    <ion-button *ngIf="firstMapLoad" (click)="reloadPage()">Load Position On Map</ion-button>
    <capacitor-google-map #map></capacitor-google-map>
  </div>   
</ion-content>